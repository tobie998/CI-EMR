<div [class]="!isLoading ? 'c-loading--hidden c-loading' : 'c-loading'">
    <div
        class="c-loading__status spinner-border m-5"
        role="status"
    >
        <span class="sr-only">Loading...</span>
    </div>
</div>
<div class="insideShadow m-3 h-81 mt-4">
    <div class="container-fluid">
        <h1 class="title">{{ "MEDICAL REPORT" | translate }}</h1>
        <div
            id="htmlData"
            #htmlData
        >
            <div class="slider">
                <h3>I. {{ "INDIVAIDUA PATIENT INFORMATION" | translate }}</h3>
                <div class="row">
                    <div class="col-2 align-self-center">
                        {{ "FIRSTNAME" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-6"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="model.ProfileModel.FirstName"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-6 align-self-center-details"
                    >
                        {{ model?.ProfileModel?.FirstName }}
                    </div>
                    <div class="col-1 align-self-center">{{ "GENDER" | translate }}:</div>
                    <div class="col-3 align-self-center">
                        <form
                            action=""
                            class="select-gender"
                        >
                            <input
                                type="radio"
                                name="gender"
                                value="male"
                                class="gender"
                                [checked]="model?.ProfileModel?.Gender == 1"
                            />
                            {{ "MALE" | translate }}<br />
                            <input
                                type="radio"
                                name="gender"
                                value="female"
                                class="gender"
                                [checked]="model?.ProfileModel?.Gender == 2"
                            />
                            {{ "FEMALE" | translate }}<br />
                        </form>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2 align-self-center">
                        {{ "LASTNAME" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-6"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="model.ProfileModel.LastName"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-6 align-self-center-details"
                    >
                        {{ model?.ProfileModel?.LastName }}
                    </div>
                    <div class="col-2 align-self-center">
                        {{ "DATE OF BIRTH" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-2"
                    >
                        <input
                            type="date"
                            class="ci-input-text-bt"
                            [(ngModel)]="model.ProfileModel.DOB"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-2 align-self-center-details"
                    >
                        {{ model?.ProfileModel?.DOB | date: "MM/dd/yyyy" }}
                    </div>
                </div>
                <div class="row">
                    <div class="col-2 align-self-center">{{ "PHONE" | translate }}:</div>
                    <div
                        *ngIf="isShow"
                        class="col-6"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="model.ProfileModel.Phone"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-6 align-self-center-details"
                    >
                        {{ model?.ProfileModel?.Phone }}
                    </div>
                    <div class="col-2 align-self-center">
                        {{ "NATIONAL ID" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-2"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="model.ProfileModel.NationalId"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-2 align-self-center-details"
                    >
                        {{ model?.ProfileModel?.NationalId }}
                    </div>
                </div>
                <div class="row">
                    <div class="col-2 align-self-center">Email:</div>
                    <div
                        *ngIf="isShow"
                        class="col-6"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="model.ProfileModel.Email"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-6 align-self-center-details"
                    >
                        {{ model?.ProfileModel?.Email }}
                    </div>
                    <div class="col-2 align-self-center">
                        {{ "PATIENT ID" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-2"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="model.ProfileModel.PatientId"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-2 align-self-center-details"
                    >
                        {{ model?.ProfileModel?.PatientId }}
                    </div>
                </div>
                <div class="row">
                    <div class="col-2 align-self-center">
                        {{ "ADDRESS" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-8"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="model.ProfileModel.Address"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-8 align-self-center-details"
                    >
                        {{ model?.ProfileModel?.Address }}
                    </div>
                </div>
                <h3>{{ "EMRGENCY CONTACT" | translate }}</h3>
                <div class="row">
                    <div class="col-2 align-self-center">
                        {{ "FIRSTNAME" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-6"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="model.ProfileModel.RelationshipFirstName"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-6 align-self-center-details"
                    >
                        {{ model?.ProfileModel?.RelationshipFirstName }}
                    </div>
                    <div class="col-2 align-self-center">
                        {{ "RELATIONSHIP" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-2"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="model.ProfileModel.EmergencyRelationshipType"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-2 align-self-center-details"
                    >
                        {{ model?.ProfileModel?.EmergencyRelationshipType }}
                    </div>
                </div>
                <div class="row">
                    <div class="col-2 align-self-center">
                        {{ "LASTNAME" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-6"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="model.ProfileModel.RelationshipLastName"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-6 align-self-center-details"
                    >
                        {{ model?.ProfileModel?.RelationshipLastName }}
                    </div>
                    <div class="col-2 align-self-center">{{ "PHONE" | translate }}:</div>
                    <div
                        *ngIf="isShow"
                        class="col-2"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="model.ProfileModel.EmergencyPhone"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-2 align-self-center-details"
                    >
                        {{ model?.ProfileModel?.EmergencyPhone }}
                    </div>
                </div>
                <div class="br-hr"></div>
                <h3>II. {{ "MEDICAL HISTORY" | translate }}</h3>
                <div class="mt-1e">
                    <i><u>{{ "MEDICAL HISTORY" | translate }} </u></i>
                </div>
                <div
                    class="row"
                    *ngFor="let item of model.MedicalHistoryModel"
                >
                    <div class="col-4 align-self-center">
                        {{ "NAME OF DISEASE" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-4"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="item.SNOMEDCode"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-4 align-self-center-details"
                    >
                        {{ item?.SNOMEDCode }}
                    </div>
                    <div class="col-2 align-self-center">{{ "SINCE" | translate }}:</div>
                    <div
                        *ngIf="isShow"
                        class="col-2"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="item.StartDate"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-2 align-self-center-details"
                    >
                        {{ item?.StartDate }}
                    </div>
                </div>
                <div class="mt-1e">
                    <i><u>{{ "SURGICAL HISTORY" | translate }}</u></i>
                </div>
                <div
                    class="row"
                    *ngFor="let item of model.SurgicalHistoryModel"
                >
                    <div class="col-4 align-self-center">
                        {{ "NAME OF DISEASE" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-4"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="item.SNOMEDCode"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-4 align-self-center-details"
                    >
                        {{ item?.SNOMEDCode }}
                    </div>
                    <div class="col-2 align-self-center">{{ "SINCE" | translate }}:</div>
                    <div
                        *ngIf="isShow"
                        class="col-2"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="item.StartDate"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-2 align-self-center-details"
                    >
                        {{ item?.StartDate }}
                    </div>
                </div>
                <h3>III. {{ "FAMILY HISTORY" | translate }}</h3>
                <div
                    class="row"
                    *ngFor="let item of model.FamilyHistoryModel"
                >
                    <div class="col-3 align-self-center">
                        {{ "NAME OF DISEASA" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-3"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="item.DiseaseName"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-3 align-self-center-details"
                    >
                        {{ item?.DiseaseName }}
                    </div>
                    <div class="col-3 align-self-center">
                        {{ "RELATIONSHIP" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-3"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="item.Relationship"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-3 align-self-center-details"
                    >
                        {{ item?.Relationship }}
                    </div>
                </div>
                <h3>IV. {{ "SOCIAL HISTORY" | translate }}</h3>
                <ng-container *ngFor="let item of model.SocialHistoryModel">
                  <div
                      class="row" *ngIf="item?.Type !== 0"
                  >
                      <div class="col-3 align-self-center">
                          {{ "NAME OF SOCIAL" | translate }}:
                      </div>
                      <div
                          *ngIf="isShow"
                          class="col-2"
                      >
                          <input
                              type="text"
                              class="ci-input-text-bt"
                              [(ngModel)]="item.Name"
                          >
                      </div>
                      <div
                          *ngIf="!isShow"
                          class="col-2 align-self-center-details"
                      >
                          {{ item?.Name }}
                      </div>
                      <div class="col-2 align-self-center">
                          {{ "FREQUENCY" | translate }}:
                      </div>
                      <div
                          class="col-2 align-self-center-details"
                          *ngIf="item.SocialfactorId == 3"
                      >
                          {{ item?.Type == 1 ? "Never" : item?.Type == 2 ? "Ofen" : "Daily" }}
                      </div>
                      <div
                          class="col-2 align-self-center-details"
                          *ngIf="item.SocialfactorId == 2"
                      >
                          {{ item?.Type == 1 ? "Never" : item?.Type == 2 ? "3/Week" : item?.Type == 3 ? "5-10/Week" :
                          ">10Week" }}
                      </div>
                      <div
                          class="col-2 align-self-center-details"
                          *ngIf="item.SocialfactorId == 1"
                      >
                          {{ item?.Type == 1 ? "Never" : item?.Type == 2 ? "Stop" : "Smoking" }}
                      </div>
                  </div>
                </ng-container>

                <h3>V. {{ "ALLERGY" | translate }}</h3>
                <div
                    class="row"
                    *ngFor="let item of model.AllergyModel"
                >
                    <div class="col-2 align-self-center">
                        {{ "ALLERGY FOR" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-2"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="item.AllergyName"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-2 align-self-center-details"
                    >
                        {{ item?.AllergyName }}
                    </div>
                    <div class="col-2 align-self-center">{{ "SINCE" | translate }}</div>
                    <div
                        *ngIf="isShow"
                        class="col-2"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="item.StartDate"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-2 align-self-center-details"
                    >
                        {{ item?.StartDate }}
                    </div>
                    <div class="col-2 align-self-center">
                        {{ "FREQUENCY" | translate }}:
                    </div>
                    <div
                        *ngIf="isShow"
                        class="col-2"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="item.Frequency"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-2 align-self-center-details"
                    >
                        {{ item?.Frequency }}
                    </div>
                </div>
                <h3>VI. {{ "MEDICATION" | translate }}</h3>
                <div class="mt-1e">
                    <i><u>{{ "CURRENT MEDICATION" | translate }} </u></i>
                </div>
                <table
                    mat-table
                    class="tableStyle w-100 ci-normal-table"
                    [dataSource]="listData.current"
                >
                    <ng-container matColumnDef="Name">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'NAME' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.DrugName}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Problem">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'PROBLEM' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.Purpose}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Dose">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'DOSE' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.DoseValue}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Number">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'NUMBER' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.Number}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Frequency">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'FREQUENCY' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.FrequencyValue}} {{ a.FrequencyUnit}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Duration">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'DURATION' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.StartDate | date : "MM/dd/yyyy"}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Route">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'ROUTE' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.Route}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Detail">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'DETAILS' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.Detail}}
                        </td>
                    </ng-container>
                    
                    <tr
                        mat-header-row
                        *matHeaderRowDef="displayedColumnCurrents; sticky: true"
                    ></tr>
                    <tr
                        mat-row
                        *matRowDef="let row; columns: displayedColumnCurrents"
                    ></tr>
                </table>
                <div class="mt-1e">
                    <i><u>{{ "MEDICATION HISTORY" | translate }} </u></i>
                </div>
                <table
                    mat-table
                    class="tableStyle ci-normal-table w-100"
                    [dataSource]="listData.history"
                >
                    <ng-container matColumnDef="Problem">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'PROBLEM' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.Purpose}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Name">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'NAME' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.DrugName}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Dose">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'DOSE' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.DoseValue}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Frequency">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'FREQUENCY' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.FrequencyValue}} {{ a.FrequencyUnit}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Duration">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'DURATION' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.StartDate | date : "MM/dd/yyyy"}}
                            {{ a.EndDate ? '=>' : ''}}
                            {{ a.EndDate | date : "MM/dd/yyyy"}}
                            <!-- {{ a.StartDate | date : "MM/dd/yyyy"}} => {{ a.EndDate | date : "MM/dd/yyyy"}} -->
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Route">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'ROUTE' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.Route}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Detail">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'DETAILS' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.Detail}}
                        </td>
                    </ng-container>
                    
                    <tr
                        mat-header-row
                        *matHeaderRowDef="displayedColumnHistorys; sticky: true"
                    ></tr>
                    <tr
                        mat-row
                        *matRowDef="let row; columns: displayedColumnHistorys"
                    ></tr>
                </table>
                <div class="mt-1e">
                    <i><u>{{ "MEDICATION BY PROBLEM" | translate }} </u></i>
                </div>
                <table
                    mat-table
                    class="tableStyle ci-normal-table w-100"
                    [dataSource]="listData.problems"
                >
                    <ng-container matColumnDef="Problem">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'PROBLEM' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.Purpose}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Name">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'NAME' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.DrugName}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Dose">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'DOSE' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.DoseValue}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Frequency">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'FREQUENCY' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.FrequencyValue}} {{ a.FrequencyUnit}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Duration">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'DURATION' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.StartDate | date : "MM/dd/yyyy"}}
                            {{ a.EndDate ? '=>' : ''}}
                            {{ a.EndDate | date : "MM/dd/yyyy"}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Route">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'ROUTE' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.Route}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Detail">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{'DETAILS' | translate}}</th>
                        <td
                            mat-cell
                            *matCellDef="let a"
                        >
                            {{ a.Detail}}
                        </td>
                    </ng-container>
                    <tr
                        mat-header-row
                        *matHeaderRowDef="displayedColumnProblems; sticky: true"
                    ></tr>
                    <tr
                        mat-row
                        *matRowDef="let row; columns: displayedColumnProblems"
                    ></tr>
                </table>
                <!-- <table
                    mat-table
                    [dataSource]="model?.MedicationByProblemModel"
                    class="tableStyle"
                >
                    <ng-container matColumnDef="Name">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >
                            {{ "NAME-1" | translate }}
                        </th>
                        <td
                            mat-cell
                            *matCellDef="let element"
                        >{{ element.DrugName }}</td>
                    </ng-container>
                    <ng-container matColumnDef="Dose">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{ "DOSE" | translate }}</th>
                        <td
                            mat-cell
                            *matCellDef="let element"
                        >{{ element.DoseValue }}</td>
                    </ng-container>
                    <ng-container matColumnDef="Frequency">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >
                            {{ "FREQUENCY" | translate }}
                        </th>
                        <td
                            mat-cell
                            *matCellDef="let element"
                        >
                            {{ element.FrequencyUnit }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Route">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >{{ "ROUTE" | translate }}</th>
                        <td
                            mat-cell
                            *matCellDef="let element"
                        >{{ element.Route }}</td>
                    </ng-container>
                    <ng-container matColumnDef="Details">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >
                            {{ "DETAILS" | translate }}
                        </th>
                        <td
                            mat-cell
                            *matCellDef="let element"
                        >{{ element.Detail }}</td>
                    </ng-container>
                    <ng-container matColumnDef="Purpose">
                        <th
                            mat-header-cell
                            *matHeaderCellDef
                        >
                            {{ "PURPOSE" | translate }}
                        </th>
                        <td
                            mat-cell
                            *matCellDef="let element"
                        >{{ element.Purpose }}</td>
                    </ng-container>
                    <tr
                        mat-header-row
                        *matHeaderRowDef="displayedColumns"
                    ></tr>
                    <tr
                        mat-row
                        *matRowDef="let row; columns: displayedColumns"
                    ></tr>
                </table> -->
            </div>
            <div class="slider">
                <h3>VII. {{ "REASON FOR BOOKING" | translate }}</h3>
                <div
                    class="row"
                    *ngFor="let item of model.ReasonForBookingModel; let ix = index"
                >
                    <div class="col-1 align-self-center">{{ ix + 1 }}.</div>
                    <div
                        *ngIf="isShow"
                        class="col-3"
                    >
                        <input
                            type="text"
                            class="ci-input-text-bt"
                            [(ngModel)]="item.Name"
                        >
                    </div>
                    <div
                        *ngIf="!isShow"
                        class="col-3 align-self-center-details"
                    >
                        {{ item?.Name }}
                    </div>
                    <div class="col-8 align-self-center"></div>
                </div>
                <h3>VIII. {{ "HISTORY" | translate }}</h3>
                <div *ngFor="let item of model.HistoryReport">
                    <div class="mt-1e">
                        <i><u>{{ item?.Name }}</u></i>
                    </div>
                    <div
                        class="row"
                        *ngFor="let i of item?.Overall; let ix = index"
                    >
                        <div class="col-3 align-self-center">
                            {{ ix == 0 ? "Overall:" : "" }}
                        </div>
                        <div
                            *ngIf="isShow"
                            class="col-3"
                        >
                            <input
                                type="text"
                                class="ci-input-text-bt"
                                [(ngModel)]="i.SymptomName"
                            >
                        </div>
                        <div
                            *ngIf="isShow"
                            class="col-3"
                        >
                            <input
                                type="text"
                                class="ci-input-text-bt"
                                [(ngModel)]="i.ResultName"
                            >
                        </div>
                        <div
                            *ngIf="!isShow"
                            class="col-9 align-self-center-details"
                        >
                            {{ i?.SymptomName }}
                            <ng-container *ngIf="i?.Overall === 2"> (Much worse) </ng-container>
                            <ng-container *ngIf="i?.Overall === 3"> (Worse) </ng-container>
                            <ng-container *ngIf="i?.Overall === 4"> (Same) </ng-container>
                            <ng-container *ngIf="i?.Overall === 5"> (Better) </ng-container>
                            <ng-container *ngIf="i?.Overall === 6"> (Much better) </ng-container>
                            <ng-container *ngIf="i?.Overall === 7"> (Gone) </ng-container>
                        </div>
                    </div>
                    <div
                        class="row"
                        *ngFor="let i of item?.OldSymptoms; let ix = index"
                    >
                        <div class="col-3 align-self-center">
                            {{ ix == 0 ? "Old symptoms:" : "" }}
                        </div>
                        <div
                            *ngIf="isShow"
                            class="col-3"
                        >
                            <input
                                type="text"
                                class="ci-input-text-bt"
                                [(ngModel)]="i.SymptomName"
                            >
                        </div>
                        <div
                            *ngIf="isShow"
                            class="col-3"
                        >
                            <input
                                type="text"
                                class="ci-input-text-bt"
                                [(ngModel)]="i.ResultName"
                            >
                        </div>
                        <div
                            *ngIf="!isShow"
                            class="col-9 align-self-center-details"
                        >
                            {{ i?.SymptomName }}
                            <ng-container *ngIf="i?.ResultCode === 2"> (Much worse) </ng-container>
                            <ng-container *ngIf="i?.ResultCode === 3"> (Worse) </ng-container>
                            <ng-container *ngIf="i?.ResultCode === 4"> (Same) </ng-container>
                            <ng-container *ngIf="i?.ResultCode === 5"> (Better) </ng-container>
                            <ng-container *ngIf="i?.ResultCode === 6"> (Much better) </ng-container>
                            <ng-container *ngIf="i?.ResultCode === 7"> (Gone) </ng-container>
                        </div>
                    </div>
                    <div
                        class="row"
                        *ngFor="let i of item?.NewSymptoms; let ix = index"
                    >
                        <div class="col-3 align-self-center">
                            {{ ix == 0 ? "New Symptoms:" : "" }}
                        </div>
                        <div
                            *ngIf="isShow"
                            class="col-3"
                        >
                            <input
                                type="text"
                                class="ci-input-text-bt"
                                [(ngModel)]="i.SymptomName"
                            >
                        </div>
                        <div
                            *ngIf="isShow"
                            class="col-3"
                        >
                            <input
                                type="text"
                                class="ci-input-text-bt"
                                [(ngModel)]="i.ResultName"
                            >
                        </div>
                        <div
                            *ngIf="!isShow"
                            class="col-9 align-self-center-details"
                        >
                            {{ i?.SymptomName }}
                            <ng-container *ngIf="i?.ResultCode === 1"> (Yes) </ng-container>
                            <ng-container *ngIf="i?.ResultCode !== 1"> (NO) </ng-container>
                            <ng-container *ngIf="i?.DescriptorText">- {{ i?.DescriptorText }}</ng-container>
                        </div>
                    </div>
                    <ng-container *ngFor="let i of item?.ReviewOfSystems; let ix = index">
                      <div
                          class="row"
                          *ngIf="i.ReviewActive !== 0"
                      >
                          <div class="col-3 align-self-center">
                              {{ ix == 0 ? "Review Of Systems:" : "" }}
                          </div>
                          <div
                              *ngIf="isShow"
                              class="col-3"
                          >
                              <input
                                  type="text"
                                  class="ci-input-text-bt"
                                  [(ngModel)]="i.SymptomName"
                              >
                          </div>
                          <div
                              *ngIf="isShow"
                              class="col-3"
                          >
                              <input
                                  type="text"
                                  class="ci-input-text-bt"
                                  [(ngModel)]="i.ResultName"
                              >
                          </div>
                          <div
                              *ngIf="!isShow && i && i.ReviewActive !== 0"
                              class="col-9 align-self-center-details"
                          >
                              {{i?.OrganName}} - {{i?.stringActive}}
                          </div>
                      </div>
                    </ng-container>

                    <div
                        class="row"
                        *ngFor="let i of item?.DailyLife; let ix = index"
                    >
                        <div class="col-3 align-self-center">
                            {{ ix == 0 ? "Daily Life:" : "" }}
                        </div>
                        <div
                            *ngIf="isShow"
                            class="col-3"
                        >
                            <input
                                type="text"
                                class="ci-input-text-bt"
                                [(ngModel)]="i.SymptomName"
                            >
                        </div>
                        <div
                            *ngIf="isShow"
                            class="col-3"
                        >
                            <input
                                type="text"
                                class="ci-input-text-bt"
                                [(ngModel)]="i.ResultName"
                            >
                        </div>
                        <div
                            *ngIf="!isShow"
                            class="col-9 align-self-center-details"
                        >
                            {{ i?.SymptomName }} - {{ i?.ResultName }}
                        </div>
                    </div>
                </div>
                <h3>IX. {{ "VITALS" | translate }}</h3>
                <div *ngFor="let item of model?.VisitVital">
                    <div class="c70-fz16-mt20">
                        {{ "TIME" | translate }}: {{ item?.ResultDate }}
                    </div>
                    <div class="row">
                        <div
                            class="col-6 row"
                            *ngFor="let i of item?.ListVital; let ix = index"
                        >
                            <div class="col-6 align-self-center">{{ i?.Name }}</div>
                            <div
                                *ngIf="isShow"
                                class="col-6"
                            >
                                <input
                                    type="text"
                                    class="ci-input-text-bt"
                                    [(ngModel)]="i.NumericValue"
                                >
                            </div>
                            <div
                                *ngIf="!isShow"
                                class="col-6 align-self-center-details"
                            >
                                {{ i?.NumericValue }}
                            </div>
                        </div>
                    </div>
                </div>
                <h3>X. {{ "EXAMINATION" | translate }}</h3>
                <div *ngFor="let i of model?.VisitProblemExam">
                    <div class="mt-1e">
                        <i><u>{{ i?.ProblemName }}</u></i>
                    </div>
                    <div
                        class="row"
                        *ngFor="let item of i.ListExam"
                    >
                        <div class="col-3 align-self-center">
                            <div *ngIf="!item.hide">{{item.ExamNameReslut}}</div>
                        </div>
                        <div
                            *ngIf="isShow"
                            class="col-9"
                        >
                            <input
                                type="text"
                                class="ci-input-text-bt"
                                [(ngModel)]="item.text"
                            >
                        </div>
                        <ul
                            *ngIf="!isShow"
                            class="col-9 align-self-center-details"
                        >
                            <li style="white-space: pre-line; text-transform: capitalize;"> <span style="font-weight: bold;">{{ item.ExamName }}</span> <br>
                              <ng-container *ngFor="let child1 of item.child">
                                  {{child1.ExamName}}: <ng-container >{{child1.text}}</ng-container><br>
                                  <ng-container *ngIf="child1.Exams">

                                      <ng-container *ngFor="let exam of child1.Exams"><span class="leve2">{{exam.ExamName}}: {{exam.text}}</span> <br></ng-container>
                                  </ng-container>
                                <!-- {{child1.text}} -->
                              </ng-container>
                            </li>
                        </ul>
                    </div>
                </div>
                <h3>XI. {{ "DIAGNOSIS" | translate }}</h3>
                <div *ngFor="let item of model?.VisitProblemDiagnoses">
                    <div class="mt-1e">
                        <i><u>{{ item?.ProblemName }}</u></i>
                    </div>
                    <div
                        class="row"
                        *ngFor="let i of item?.VisitDiagnoses; let ix = index"
                    >
                        <div
                            class="col-4 align-self-center"
                            *ngIf="ix === 0"
                        >
                            {{ "DIAGNOSIS" | translate }}:
                        </div>
                        <div
                            *ngIf="isShow && ix === 0"
                            class="col-8"
                        >
                            <input
                                type="text"
                                class="ci-input-text-bt"
                                [(ngModel)]="i.SNOMEDName"
                            >
                        </div>
                        <div
                            *ngIf="ix === 0 && !isShow"
                            class="col-8 align-self-center-details"
                        >
                            {{ i?.SNOMEDName }}
                        </div>
                        <div
                            *ngIf="ix === 1"
                            class="col-4 align-self-center"
                        >
                            {{ "POSSIBLE OTHER DIAGNOSIS" | translate }}:
                        </div>
                        <div
                            *ngIf="isShow && ix === 1"
                            class="col-8"
                        >
                            <input
                                type="text"
                                class="ci-input-text-bt"
                                [(ngModel)]="i.SNOMEDName"
                            >
                        </div>
                        <div
                            *ngIf="ix === 1 && !isShow"
                            class="col-8 align-self-center-details"
                        >
                            {{ i?.SNOMEDName }}
                        </div>
                        <div
                            *ngIf="ix !== 0 && ix !== 1"
                            class="col-4 align-self-center"
                        ></div>
                        <div
                            *ngIf="isShow && ix !== 0 && ix !== 1"
                            class="col-8"
                        >
                            <input
                                type="text"
                                class="ci-input-text-bt"
                                [(ngModel)]="i.SNOMEDName"
                            >
                        </div>
                        <div
                            *ngIf="ix !== 0 && ix !== 1 && !isShow"
                            class="col-8 align-self-center-details"
                        >
                            {{ i?.SNOMEDName }}
                        </div>
                    </div>
                </div>
                <h3>XII. {{ "PLAN" | translate }}</h3>
                <ng-container *ngIf="model && model.OrderTestModel && model.OrderTestModel.length !== 0">
                  <h4>Order Test</h4>
                  <table
                      mat-table
                      [dataSource]="model?.OrderTestModel"
                      class="tableStyle"
                  >
                      <ng-container matColumnDef="Category">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >
                              Category
                          </th>
                          <td
                              mat-cell
                              *matCellDef="let item"
                          >{{item.TestcategoryName}}</td>
                      </ng-container>
                      <ng-container matColumnDef="Test">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >
                              Test
                          </th>
                          <td
                              mat-cell
                              *matCellDef="let item"
                          >{{item.TestName}}</td>
                      </ng-container>
                      <ng-container matColumnDef="Result">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >
                              Result
                          </th>
                          <td
                              mat-cell
                              *matCellDef="let item"
                          >
                              {{item.NumbericResult}}
                          </td>
                      </ng-container>
                      <tr
                          mat-header-row
                          *matHeaderRowDef="columnsOrderTestModelReport"
                      ></tr>
                      <tr
                          mat-row
                          *matRowDef="let row; columns: columnsOrderTestModelReport"
                      ></tr>
                  </table>
                </ng-container>
                <ng-container *ngIf="model && model.BiopsyModel && model.BiopsyModel.length !== 0">
                  <h4>Biopsy</h4>
                  <table
                      mat-table
                      [dataSource]="model?.BiopsyModel"
                      class="tableStyle"
                  >
                      <ng-container matColumnDef="Organ">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >
                              Organ
                          </th>
                          <td
                              mat-cell
                              *matCellDef="let item"
                          >{{item.OrganName}}</td>
                      </ng-container>
                      <ng-container matColumnDef="Test">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >
                              Test
                          </th>
                          <td
                              mat-cell
                              *matCellDef="let item"
                          >{{item.TestName}}</td>
                      </ng-container>
                      <ng-container matColumnDef="Result">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >
                              Result
                          </th>
                          <td
                              mat-cell
                              *matCellDef="let item"
                          >
                              {{item.NumbericResult}}
                          </td>
                      </ng-container>
                      <tr
                          mat-header-row
                          *matHeaderRowDef="columnsBiopsyModelReport"
                      ></tr>
                      <tr
                          mat-row
                          *matRowDef="let row; columns: columnsBiopsyModelReport"
                      ></tr>
                  </table>
                </ng-container>
                <ng-container *ngIf="model && model.FTestModel && model.FTestModel.length !== 0">
                  <h4>Fuctional Tests</h4>
                  <table
                      mat-table
                      [dataSource]="model?.FTestModel"
                      class="tableStyle"
                  >
                      <ng-container matColumnDef="Organ">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >
                              Organ
                          </th>
                          <td
                              mat-cell
                              *matCellDef="let item"
                          >{{item.OrganName}}</td>
                      </ng-container>
                      <ng-container matColumnDef="Test">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >
                              Test
                          </th>
                          <td
                              mat-cell
                              *matCellDef="let item"
                          >{{item.TestName}}</td>
                      </ng-container>
                      <ng-container matColumnDef="Result">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >
                              Result
                          </th>
                          <td
                              mat-cell
                              *matCellDef="let item"
                          >
                              {{item.NumbericResult}}
                          </td>
                      </ng-container>
                      <tr
                          mat-header-row
                          *matHeaderRowDef="columnsBiopsyModelReport"
                      ></tr>
                      <tr
                          mat-row
                          *matRowDef="let row; columns: columnsBiopsyModelReport"
                      ></tr>
                  </table>
                </ng-container>
                <ng-container *ngIf="model && model.ImgModel && model.ImgModel.length !== 0">
                  <h4>Imaging</h4>
                  <table
                      mat-table
                      [dataSource]="model?.ImgModel"
                      class="tableStyle"
                  >
                      <ng-container matColumnDef="Category">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >
                              Category
                          </th>
                          <td
                              mat-cell
                              *matCellDef="let item"
                          >{{item.TestcategoryName}}</td>
                      </ng-container>
                      <ng-container matColumnDef="Organ">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >
                              Organ
                          </th>
                          <td
                              mat-cell
                              *matCellDef="let item"
                          >{{item.OrganName}}</td>
                      </ng-container>
                      <ng-container matColumnDef="Test">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >
                              Test
                          </th>
                          <td
                              mat-cell
                              *matCellDef="let item"
                          >{{item.TestName}}</td>
                      </ng-container>
                      <ng-container matColumnDef="Result">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >
                              Result
                          </th>
                          <td
                              mat-cell
                              *matCellDef="let item"
                          >
                              {{item.NumbericResult}}
                          </td>
                      </ng-container>
                      <tr
                          mat-header-row
                          *matHeaderRowDef="columnsImgModelReport"
                      ></tr>
                      <tr
                          mat-row
                          *matRowDef="let row; columns: columnsImgModelReport"
                      ></tr>
                  </table>
                </ng-container>
                <ng-container *ngIf="model && model.HealthEducation && model.HealthEducation.length !== 0">
                    <h4>Health Education</h4>
                    <table
                        mat-table
                        [dataSource]="model?.HealthEducation"
                        class="tableStyle"
                    >
                        <ng-container matColumnDef="Problem">
                            <th
                                mat-header-cell
                                *matHeaderCellDef
                            >
                            Problem
                            </th>
                            <td
                                mat-cell
                                *matCellDef="let item"
                            >{{item.Problem}}</td>
                        </ng-container>
                        <ng-container matColumnDef="Organ">
                            <th
                                mat-header-cell
                                *matHeaderCellDef
                            >
                                Organ
                            </th>
                            <td
                                mat-cell
                                *matCellDef="let item"
                            >{{item.OrganName}}</td>
                        </ng-container>
                       
                        <ng-container matColumnDef="Education">
                            <th
                                mat-header-cell
                                *matHeaderCellDef
                            >
                            Education
                            </th>
                            <td
                                mat-cell
                                *matCellDef="let item"
                            >
                                {{item.EducationitemName}}
                            </td>
                        </ng-container>
                        <tr
                            mat-header-row
                            *matHeaderRowDef="columnsHealtEduReport"
                        ></tr>
                        <tr
                            mat-row
                            *matRowDef="let row; columns: columnsHealtEduReport"
                        ></tr>
                    </table>
                  </ng-container>

                <ng-container *ngIf="dataSourcePrescriptionReport && dataSourcePrescriptionReport.length !== 0">
                  <h4>Prescription</h4>
                  <table
                      mat-table
                      [dataSource]="dataSourcePrescriptionReport"
                      class="tableStyle"
                  >
                      <ng-container matColumnDef="Name">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >{{ "NAME-1" | translate }}</th>
                          <td
                              mat-cell
                              *matCellDef="let a"
                          >
                              {{ a.NameDrug }}
                          </td>
                      </ng-container>
                      <ng-container matColumnDef="Dose">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >{{ "DOSE" | translate }}</th>
                          <td
                              mat-cell
                              *matCellDef="let a"
                          >
                              {{ a.DoseValue }}
                          </td>
                      </ng-container>
                      <ng-container matColumnDef="Frequency">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >{{ "FREQUENCY" | translate }}</th>
                          <td
                              mat-cell
                              *matCellDef="let a"
                          >
                              {{ a.FrequencyValue}} {{ a.FrequencyUnit }}
                          </td>
                      </ng-container>
                      <ng-container matColumnDef="Start Date">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >{{ "STARTDATE" | translate }}</th>
                          <td
                              mat-cell
                              *matCellDef="let a"
                          >
                              {{ a.StartDate | date: "MM/dd/yyyy" }}
                          </td>
                      </ng-container>
                      <ng-container matColumnDef="End Date">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >{{ "ENDDATE" | translate }}</th>
                          <td
                              mat-cell
                              *matCellDef="let a"
                          >
                              {{ a.EndDate | date: "MM/dd/yyyy" }}
                          </td>
                      </ng-container>
                      <ng-container matColumnDef="Route">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >{{ "ROUTE" | translate }}</th>
                          <td
                              mat-cell
                              *matCellDef="let a"
                          >
                              {{ a.NameDrugRoute }}
                          </td>
                      </ng-container>
                      <ng-container matColumnDef="Detail">
                          <th
                              mat-header-cell
                              *matHeaderCellDef
                          >{{ "DETAILS" | translate }}</th>
                          <td
                              mat-cell
                              *matCellDef="let a"
                          >
                              {{ a.Instruction }}
                          </td>
                      </ng-container>
                      <tr
                          mat-header-row
                          *matHeaderRowDef="columnsPrescriptionReport"
                      ></tr>
                      <tr
                          mat-row
                          *matRowDef="let row; columns: columnsPrescriptionReport"
                      ></tr>
                      <!-- Group header -->
                      <ng-container matColumnDef="groupHeader">
                          <td
                              colspan="999"
                              mat-cell
                              *matCellDef="let groupBy"
                              class="groupByType"
                          >
                              Problem's {{ groupBy.initial }}
                          </td>
                      </ng-container>
                      <tr
                          mat-row
                          *matRowDef="let row; columns: ['groupHeader']; when: isGroup"
                      ></tr>
                  </table>
                </ng-container>

                <h4>Follow Up</h4>
                <div
                    *ngFor="let item of model?.PlanFollowupModel"
                    class="fz-15"
                >
                    <div
                        *ngIf="isShow"
                        class="row"
                    >
                        <div class="col-4">
                            Problem: {{item?.Name}} -- FollowDate: 
                        </div>
                        <div class="col-8">
                            <input
                                type="date"
                                class="ci-input-text-bt"
                                [(ngModel)]="item.ResultDate"
                            >
                        </div>
                    </div>
                    <div
                        class="mt-2"
                        *ngIf="!isShow"
                    >
                        Problem: {{item?.Name}} -- FollowDate: {{item.ResultDate | date:"MM/dd/yyyy"}} -- BookingSchedule: {{item.BookingSchedule | date:"MM/dd/yyyy hh:mm"}}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div>
        <div class="report-icon">
            <img
                *ngIf="!isShow"
                src="assets/svg/Bottomedit.svg"
                (click)="isShow = !isShow"
            >
            <img
                class="ml-3"
                (click)="printReport()"
                src="assets/svg/print.svg"
            >
            <button
                *ngIf="isShow"
                class="ci-button-save"
                (click)="generatePDF()"
            >
                Save
            </button>
        </div>
    </div>
</div>
